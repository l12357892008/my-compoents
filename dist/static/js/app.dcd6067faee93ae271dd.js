webpackJsonp([3],{"09yM":function(t,e){},"991W":function(t,e){},LLhK:function(t,e){},Milg:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("kV13"),c=n("rVsN"),s=n.n(c),i=n("lC5x"),u=n.n(i),a=n("J0Oq"),r=n.n(a),l=n("AA3o"),h=n.n(l),f=n("xSur"),g=n.n(f),d=(function(){function t(e){h()(this,t),this.heartCheck={num:3,start:function(t){var e=this.num;setTimeout(function(){try{t.ws.send("test"),0===--e&&t.ws.colse()}catch(t){console.log(t)}},3e5)}},this.ws=null,this.wsUrl=e,this.lockReconnect=!1,this.tt=null,this.createWebSocket()}g()(t,[{key:"createWebSocket",value:function(){try{this.ws=new WebSocket(this.wsUrl),this.init()}catch(t){console.log("连接错误:"+t),this.reconnect(this.wsUrl)}}},{key:"init",value:function(){var t=this;this.ws.onclose=function(){console.log("链接断开"),t.reconnect(t.wsUrl)},this.ws.onerror=function(){console.log("链接异常"),t.reconnect(t.wsUrl)},this.ws.onopen=function(){console.log("连接正常"),t.heartCheck.start(t)},this.ws.onmessage=function(e){console.log(e.data),t.heartCheck.start(t)}}},{key:"reconnect",value:function(t){var e=this;console.log("重连"),this.lockReconnect?console.log("重连接已锁，不做处理"):(this.lockReconnect=!0,setTimeout(function(){e.lockReconnect=!1,e.createWebSocket()},4e3))}}])}(),function(){function t(){h()(this,t)}g()(t,null,[{key:"format",value:function(t){var e=new Date(t),n=""+(e.getMonth()+1),o=""+e.getDate(),c=e.getFullYear(),s=e.getHours()+"",i=e.getSeconds()+"",u=e.getMinutes()+"";return n.length<2&&(n="0"+n),o.length<2&&(o="0"+o),s.length<2&&(s="0"+s),u.length<2&&(u="0"+u),i.length<2&&(i="0"+i),[c,n,o].join("-")+" "+[s,u,i].join(":")}}])}(),{name:"App",data:function(){return{now:"",ss:0,texts:""}},mounted:function(){this.cli()},methods:{cli:function(){var t=this;return r()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$options.methods.settime().then(function(t){console.log(t)});case 2:return e.next=4,t.$get("").then(function(t){console.log("d")}).catch(function(t){console.log(t)});case 4:console.log("afsd");case 5:case"end":return e.stop()}},e,t)}))()},settime:function(){return new s.a(function(t,e){setTimeout(function(){t("asf")},2e3)})}}}),p={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"flex_row_center"},[this._v("\n    head\n  ")]),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var m=n("C7Lr")(d,p,!1,function(t){n("Milg")},"data-v-0e5ec740",null).exports,w=n("5inH");o.default.use(w.a);var k=new w.a({routes:[{path:"/index",name:"HelloWorld",component:function(){return n.e(0).then(n.bind(null,"FTUa"))}},{path:"/login",name:"login",component:function(){return n.e(1).then(n.bind(null,"qcqH"))}}]}),v=n("b8UZ");o.default.use(v.a);var C=new v.a.Store({state:{autoCheck:!0},mutations:{changAutoCheck:function(t,e){t.autoCheck=e}},actions:{setAutoCheck:function(t,e){t.commit("changAutoCheck",e)}},getters:{getAutoCheck:function(t){return t.autoCheck}}}),y=n("4YfN"),b=n.n(y),x=n("I29D"),A=n.n(x),M=n("TcQY"),S=n.n(M);A.a.defaults.timeout=5e3,A.a.defaults.baseURL="http://www.4399.com",A.a.interceptors.response.use(function(t){return t},function(t){return t.message.includes("timeout")&&Object(M.Message)({message:"连接超时,请检查您的网络状况后刷新页面",type:"error"}),s.a.reject(t)});n("09yM"),n("LLhK"),n("991W");o.default.config.productionTip=!1,o.default.use(S.a),o.default.prototype.$post=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=localStorage.getItem("token");return new s.a(function(o,c){A.a.post(t,b()({},e,{token:n})).then(function(t){o(t.data)},function(t){c(t)})})},o.default.prototype.$get=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new s.a(function(n,o){A.a.get(t,{params:e}).then(function(t){n(t.data)}).catch(function(t){o(t)})})},new o.default({el:"#app",router:k,store:C,components:{App:m},template:"<App/>"})}},["NHnr"]);
//# sourceMappingURL=app.dcd6067faee93ae271dd.js.map