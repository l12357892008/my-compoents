{"version":3,"sources":["webpack:///src/App.vue","webpack:///./src/utils/webSocket.js","webpack:///./src/utils/formatDate.js","webpack:///./src/App.vue?54f7","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/vuex/store.js","webpack:///./src/utils/http.js","webpack:///./src/main.js"],"names":["App","WebSocketClass","url","classCallCheck_default","this","heartCheck","num","start","that","_num","setTimeout","ws","send","colse","e","console","log","wsUrl","lockReconnect","tt","createWebSocket","WebSocket","init","reconnect","onclose","onerror","onopen","onmessage","event","data","time","d","Date","month","getMonth","day","getDate","year","getFullYear","hours","getHours","seconds","getSeconds","minutes","getMinutes","length","join","name","provide","reload","now","ss","texts","cc","mounted","methods","cli","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","$options","settime","sent","$get","t0","stop","_this2","_callee2","_context2","$nextTick","promise_default","resolve","reject","selectortype_template_index_0_src_App","render","_h","$createElement","_c","_self","attrs","id","staticClass","_v","mode","_e","staticRenderFns","src_App","__webpack_require__","normalizeComponent","ssrContext","Vue","use","Router","router","routes","path","component","then","bind","Vuex","store","Store","state","autoCheck","mutations","changAutoCheck","value","actions","setAutoCheck","context","commit","getters","getAutoCheck","axios","defaults","timeout","baseURL","interceptors","response","error","message","includes","Message","type","config","productionTip","ElementUI","BaiduMap","ak","prototype","$post","arguments","undefined","token","localStorage","getItem","post","extends_default","err","params","get","catch","el","components","template"],"mappings":"wTAcAA,cCTE,SAAAC,EAAYC,GAAKC,IAAAC,KAAAH,GAAAG,KAsDjBC,YACEC,IAAK,EACLC,MAAO,SAASC,GACd,IAAIC,EAAOL,KAAKE,IAChBI,WAAW,WACP,IAGEF,EAAKG,GAAGC,KAAK,QAGD,MAFZH,GAGED,EAAKG,GAAGE,QAEX,MAAMC,GACLC,QAAQC,IAAIF,KAEf,OAtELV,KAAKO,GAAK,KACVP,KAAKa,MAAQf,EACbE,KAAKc,eAAgB,EACrBd,KAAKe,GAAK,KACVf,KAAKgB,iEAIL,IACEhB,KAAKO,GAAK,IAAIU,UAAUjB,KAAKa,OAC7Bb,KAAKkB,OACL,MAAMR,GACNC,QAAQC,IAAI,QAAUF,GACtBV,KAAKmB,UAAUnB,KAAKa,uCAKtB,IAAIT,EAAOJ,KACXA,KAAKO,GAAGa,QAAU,WAChBT,QAAQC,IAAI,QACZR,EAAKe,UAAUf,EAAKS,QAEtBb,KAAKO,GAAGc,QAAU,WAChBV,QAAQC,IAAI,QACZR,EAAKe,UAAUf,EAAKS,QAEtBb,KAAKO,GAAGe,OAAS,WACfX,QAAQC,IAAI,QACZR,EAAKH,WAAWE,MAAMC,IAExBJ,KAAKO,GAAGgB,UAAY,SAAUC,GAC5Bb,QAAQC,IAAIY,EAAMC,MAElBrB,EAAKH,WAAWE,MAAMC,sCAIhBN,GACR,IAAIM,EAAOJ,KACXW,QAAQC,IAAI,MACTZ,KAAKc,cACNH,QAAQC,IAAI,eAGdZ,KAAKc,eAAgB,EAErBR,WAAW,WACTF,EAAKU,eAAgB,EACrBV,EAAKY,mBACJ,0FCjDSU,GAEZ,IAAIC,EAAI,IAAIC,KAAKF,GACjBG,EAAQ,IAAMF,EAAEG,WAAa,GAC7BC,EAAM,GAAKJ,EAAEK,UACbC,EAAON,EAAEO,cACTC,EAAQR,EAAES,WAAW,GACrBC,EAAUV,EAAEW,aAAe,GAC3BC,EAAUZ,EAAEa,aAAa,GAQzB,OANIX,EAAMY,OAAS,IAAGZ,EAAQ,IAAMA,GAChCE,EAAIU,OAAS,IAAGV,EAAM,IAAMA,GAC5BI,EAAMM,OAAS,IAAGN,EAAQ,IAAMA,GAChCI,EAAQE,OAAS,IAAGF,EAAU,IAAMA,GACpCF,EAAQI,OAAS,IAAGJ,EAAU,IAAMA,IAEhCJ,EAAMJ,EAAOE,GAAKW,KAAK,KAAO,KAAMP,EAAOI,EAASF,GAASK,KAAK,aFR9EC,KAAA,MACAC,QAFA,WAGA,OACAC,OAAA7C,KAAA6C,SAGApB,KAPA,WAQA,OACAqB,IAAA,GACAC,GAAA,EACAC,MAAA,GACAC,IAAA,IAGAC,QAfA,aAoBAC,SACAC,IADA,WACA,IAAAC,EAAArD,KAAA,OAAAsD,IAAAC,EAAAC,EAAAC,KAAA,SAAAC,IAAA,OAAAH,EAAAC,EAAAG,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACAT,EAAAU,SAAAZ,QAAAa,UADA,cAAAJ,EAAAK,KAAAL,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAKAT,EAAAa,KAAA,IALA,OAAAN,EAAAK,KAAAL,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAO,GAAAP,EAAA,kCAAAA,EAAAQ,SAAAV,EAAAL,IAAA,SAAAC,IAYAT,OAbA,WAaA,IAAAwB,EAAArE,KAAA,OAAAsD,IAAAC,EAAAC,EAAAC,KAAA,SAAAa,IAAA,OAAAf,EAAAC,EAAAG,KAAA,SAAAY,GAAA,cAAAA,EAAAV,KAAAU,EAAAT,MAAA,cACAO,EAAApB,IAAA,EADAsB,EAAAT,KAAA,EAEAO,EAAAG,YAFA,OAGAH,EAAApB,IAAA,EAHA,wBAAAsB,EAAAH,SAAAE,EAAAD,KAAAf,IAKAU,QAlBA,WAmBA,WAAAS,EAAAjB,EAAA,SAAAkB,EAAAC,GACArE,WAAA,WACAoE,EAAA,QACA,WGrDeE,GADEC,OAFjB,WAA0B,IAAaC,EAAb9E,KAAa+E,eAA0BC,EAAvChF,KAAuCiF,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,OAAOC,GAAA,SAAYH,EAAA,OAAYI,YAAA,oBAA/GpF,KAA6IqF,GAAA,oBAA7IrF,KAA6IqF,GAAA,KAAAL,EAAA,cAA0DE,OAAOvC,KAAA,QAAA2C,KAAA,YAA9MtF,KAA8O,GAAAgF,EAAA,eAA9OhF,KAA8OuF,MAAA,QAEvPC,oBCCjB,IAuBeC,EAvBUC,EAAQ,OAcjCC,CACE/F,EACAgF,GATF,EAVA,SAAAgB,GACEF,EAAQ,SAaV,kBAEA,MAUgC,oBCvBhCG,UAAIC,IAAIC,KAEO,IAAAC,EAAA,IAAID,KACjBE,SAEIC,KAAM,SACNvD,KAAM,aACNwD,UAAW,kBAAMT,EAAAhF,EAAA,GAAA0F,KAAAV,EAAAW,KAAA,iBAGjBH,KAAM,SACNvD,KAAM,QACNwD,UAAW,kBAAMT,EAAAhF,EAAA,GAAA0F,KAAAV,EAAAW,KAAA,iBAGjBH,KAAM,OACNvD,KAAM,MACNwD,UAAW,kBAAMT,EAAAhF,EAAA,GAAA0F,KAAAV,EAAAW,KAAA,iBAGjBH,KAAM,MACNvD,KAAM,KACNwD,UAAW,kBAAMT,EAAAhF,EAAA,GAAA0F,KAAAV,EAAAW,KAAA,+BCpBvBR,UAAIC,IAAIQ,KAER,IAmBeC,EAAA,IAAID,IAAKE,OACtBC,OAnBAC,WAAW,GAoBXC,WAZAC,eADgB,SACDH,EAAMI,GACnBJ,EAAMC,UAAYG,IAYpBC,SARAC,aADc,SACDC,EAAQH,GACnBG,EAAQC,OAAO,iBAAiBJ,KAQlCK,SAnBAC,aAAc,SAAAV,GACZ,OAAOA,EAAMC,6ECDjBU,IAAMC,SAASC,QAAU,IAEzBF,IAAMC,SAASE,QAAU,sBAwBzBH,IAAMI,aAAaC,SAAS3B,IAC1B,SAAA2B,GAgBE,OAAOA,GAET,SAAAC,GAOE,OANGA,EAAMC,QAAQC,SAAS,YACxBC,mBACEF,QAAS,sBACTG,KAAM,UAGHrD,EAAAjB,EAAQmB,OAAO+C,4DCjD1B7B,UAAIkC,OAAOC,eAAgB,EAE3BnC,UAAIC,IAAImC,KACRpC,UAAIC,IAAIoC,KAENC,GAAI,qCAENtC,UAAIuC,UAAUC,MD0EP,SAAcvI,GAAgB,IAAX2B,EAAW6G,UAAA7F,OAAA,QAAA8F,IAAAD,UAAA,GAAAA,UAAA,MAC/BE,EAAQC,aAAaC,QAAQ,SACjC,OAAO,IAAIjE,EAAAjB,EAAQ,SAACkB,EAASC,GAC3ByC,IAAMuB,KAAK7I,EAAX8I,OAAoBnH,GAAM+G,WAAQpC,KAAK,SAAAqB,GACrC/C,EAAQ+C,EAAShG,OAChB,SAAAoH,GACDlE,EAAOkE,QC/EbhD,UAAIuC,UAAUlE,KDqDP,SAAapE,GAAkB,IAAbgJ,EAAaR,UAAA7F,OAAA,QAAA8F,IAAAD,UAAA,GAAAA,UAAA,MACpC,OAAO,IAAI7D,EAAAjB,EAAQ,SAACkB,EAASC,GAC3ByC,IAAM2B,IAAIjJ,GACRgJ,OAAQA,IACP1C,KAAK,SAAAqB,GACN/C,EAAQ+C,EAAShG,QAChBuH,MAAM,SAAAH,GACPlE,EAAOkE,QCzDb,IAAIhD,WACFoD,GAAI,OACJjD,SACAO,QACA2C,YAActJ,OACduJ,SAAU","file":"static/js/app.15137ccf70038c39dc86.js","sourcesContent":["<template>\r\n  <div id=\"app\">\r\n    <div class=\"flex_row_center\">\r\n      head\r\n    </div>\r\n    <transition name=\"fade1\" mode=\"out-in\">\r\n      <router-view v-if=\"cc\" />\r\n    </transition>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import WebSocketClass from '@/utils/webSocket.js'\r\n  import formatDate from '@/utils/formatDate.js'\r\n  export default {\r\n    name: 'App',\r\n    provide() {\r\n      return {\r\n        reload: this.reload\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        now: '',\r\n        ss: 0,\r\n        texts: '',\r\n        cc: true\r\n      }\r\n    },\r\n    mounted() {\r\n      // const socket = new WebSocketClass('ws://ws.maixiaobu.cn:8977?group=admin')\r\n      // console.log(formatDate.format(new Date))\r\n      // this.cli()\r\n    },\r\n    methods: {\r\n      async cli() {\r\n        let bb = await this.$options.methods.settime()\r\n        // console.log(bb)\r\n        // console.log('dd')\r\n        try {\r\n          let dd = await this.$get('')\r\n          // console.log(dd)\r\n        } catch (e) {\r\n          // console.log('error:' + e)\r\n        }\r\n        // console.log('afsd')\r\n      },\n      async reload() {\n        this.cc = false\n        await this.$nextTick()\n        this.cc = true\n      },\r\n      settime() {\r\n        return new Promise((resolve, reject) => { // 必须要返回一个Promise ,await才会生效\r\n          setTimeout(() => {\r\n            resolve('asf')\r\n          }, 2000)\r\n        })\r\n      }\r\n    },\r\n\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  #app {\r\n    font-family: 'Avenir', Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    background: skyblue;\r\n    height: 100%;\r\n    display: flex;\r\n    flex-direction: column;\r\n  }\r\n\r\n  .fade1-enter,\r\n  .fade1-leave-to {\r\n    /* 动画效果 */\r\n    opacity: 0;\r\n  }\r\n\r\n  .fade1-enter-active,\r\n  .fade1-leave-active {\r\n    transition: all .3s;\r\n  }\r\n\r\n  .fade1-enter-to,\r\n  .fade1-leave {\r\n    opacity: 1;\r\n  }\r\n\r\n\r\n  .amap-wrapper {\r\n    width: 500px;\r\n    height: 500px;\r\n  }\r\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","/**\r\n * @description  webSocket持久化连接\r\n */\r\n\r\nexport default class WebSocketClass{\r\n  constructor(url) {\r\n    this.ws = null   // websocket对象\r\n    this.wsUrl = url\r\n    this.lockReconnect = false   // 避免重复连接\r\n    this.tt = null\r\n    this.createWebSocket()\r\n  }\r\n\r\n  createWebSocket() {  // 创建WebSocket连接\r\n    try {\r\n      this.ws = new WebSocket(this.wsUrl);\r\n      this.init();\r\n    } catch(e) {\r\n      console.log('连接错误:' + e)\r\n      this.reconnect(this.wsUrl);\r\n    }\r\n  }\r\n\r\n  init() {  // 初始化\r\n    let that = this\r\n    this.ws.onclose = function () {\r\n      console.log('链接断开')\r\n      that.reconnect(that.wsUrl)\r\n    }\r\n    this.ws.onerror = function() {\r\n      console.log('链接异常')\r\n      that.reconnect(that.wsUrl)\r\n    }\r\n    this.ws.onopen = function () {\r\n      console.log('连接正常')\r\n      that.heartCheck.start(that)  // 函数内部this指代init(){}里的上下文，要强行用that存在最外面class的上下文\r\n    }\r\n    this.ws.onmessage = function (event) {  // 收到消息\r\n      console.log(event.data)\r\n      //拿到任何消息都说明当前连接是正常的\r\n      that.heartCheck.start(that)\r\n    }\r\n  }\r\n\r\n  reconnect(url) {  // 重链接\r\n    let that = this\r\n    console.log('重连')\r\n    if(this.lockReconnect) {\r\n      console.log('重连接已锁，不做处理')\r\n      return;\r\n    };\r\n    this.lockReconnect = true\r\n    //没连接上会一直重连，设置延迟避免请求过多\r\n    setTimeout(function () {\r\n      that.lockReconnect = false\r\n      that.createWebSocket()\r\n    }, 4000)\r\n  }\r\n\r\n  heartCheck = {  // 心跳检测\r\n    num: 3,  // 3次心跳均未响应重连\r\n    start: function(that){\r\n      var _num = this.num  // 这里this指代heartCheck自身上下文\r\n      setTimeout(function(){\r\n          try{\r\n            /*这里发送一个心跳，后端收到后，返回一个心跳消息，\r\n            onmessage拿到返回的心跳就说明连接正常*/\r\n            that.ws.send(\"test\")\r\n            _num--\r\n            //计算答复的超时次数\r\n            if(_num === 0) {\r\n              that.ws.colse()\r\n            }\r\n          }catch(e){\r\n            console.log(e)\r\n          }\r\n      }, 300*1000)  // 每3分钟发送一次心跳\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/webSocket.js","export default class formatDate{\r\n  /**\r\n    * @param {Date} time\r\n    * @return {String}\r\n    * @example formatDate.format(new Date)\r\n    * @description 将Date对象,或非标准格式日期字符串转为标准日期String类型\r\n   */\r\n  static format(time){\r\n    // if(!(date instanceof Date)) return '';\r\n    var d = new Date(time),\r\n    month = '' + (d.getMonth() + 1),\r\n    day = '' + d.getDate(),\r\n    year = d.getFullYear(),\r\n    hours = d.getHours()+'',\r\n    seconds = d.getSeconds() + '',\r\n    minutes = d.getMinutes()+'';\r\n\r\n    if (month.length < 2) month = '0' + month;\r\n    if (day.length < 2) day = '0' + day;\r\n    if (hours.length < 2) hours = '0' + hours;\r\n    if (minutes.length < 2) minutes = '0' + minutes;\r\n    if (seconds.length < 2) seconds = '0' + seconds;\r\n\r\n    return [year, month, day].join('-') + ' ' +[hours, minutes, seconds].join(':');\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/formatDate.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"flex_row_center\"},[_vm._v(\"\\n    head\\n  \")]),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade1\",\"mode\":\"out-in\"}},[(_vm.cc)?_c('router-view'):_vm._e()],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-0abf17cf\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0abf17cf\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0abf17cf\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0abf17cf\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport Router from 'vue-router'\r\n\r\nVue.use(Router)\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/index',\r\n      name: 'HelloWorld',\r\n      component: () => import('@/view/HelloWorld/home')\r\n    },\r\n    {\r\n      path: '/login',\r\n      name: 'login',\r\n      component: () => import('@/view/login/home')\r\n    },\n    {\n      path: '/hel',\n      name: 'hel',\n      component: () => import('@/view/hel/index')\n    },\n    {\n      path: '/wu',\n      name: 'wu',\n      component: () => import('@/view/wu/index')\n    }\r\n  ]\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","/**\n * @description  cnpm i vuex -S\n **/\nimport Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nVue.use(Vuex)\r\n\r\nconst state = {  //这里放全局参数,获取ex: this.$store.state.autoCheck,一般使用getters来获取\r\n  autoCheck: true,  // 表单提交时转换该值，输入组件监听根据需要自动检测输入是否为空\r\n}\r\nconst getters = {  // 获取函数,ex: this.$store.getter.getAutoCheck\r\n  getAutoCheck: state => { // 方便统一对返回值做一些处理\r\n    return state.autoCheck\r\n  },\r\n}\r\nconst mutations = {  //这里是set方法,ex:this.$store.commit('changAutoCheck',value)\r\n  changAutoCheck(state,value){\r\n    state.autoCheck = value\r\n  }\r\n}\r\nconst actions = {         //异步修改数据仓库,ex: this.$store.dispatch('setAutoCheck',value)\r\n  setAutoCheck(context,value){\r\n    context.commit('changAutoCheck',value)\r\n  }\r\n}\r\n\r\nexport default new Vuex.Store({\r\n  state,\r\n  mutations,\r\n  actions,\r\n  getters,\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/vuex/store.js","// 所需依赖:npm install axios,elementui -S\r\n/**\r\n * @description http请求封装\r\n*/\r\n\r\nimport axios from 'axios';\r\nimport {\r\n  Message\r\n} from 'element-ui';\r\nimport router from '../router'\r\n\r\naxios.defaults.timeout = 5000;\r\n// axios.defaults.baseURL = 'http://www.51jl.store/api';\r\naxios.defaults.baseURL = 'http://www.4399.com';\r\n\r\n//http request 拦截器\r\n// axios.interceptors.request.use(\r\n//   config => {\r\n//     // const token = getCookie('名称');注意使用的时候需要引入cookie方法，推荐js-cookie\r\n//     // config.data = JSON.stringify(config.data);\r\n//     let token = \"token:\" + localStorage.getItem('token')\r\n//     // config.headers = {\r\n//     //   'Content-Type': 'application/x-www-form-urlencoded'\r\n//     // }\r\n//     console.log(config)\r\n//     // if(token){\r\n//     //   config.params = {'token':token}\r\n//     // }\r\n//     return config;\r\n//   },\r\n//   error => {\r\n//     return Promise.reject(err);\r\n//   }\r\n// );\r\n\r\n\r\n//http response 拦截器\r\naxios.interceptors.response.use(\r\n  response => {\r\n    // if (response.data.code == 10002) {\r\n    //   Message({\r\n    //     showClose: true,\r\n    //     message: '登录过期',\r\n    //     type: 'error',\r\n    //     duration: 1000\r\n    //   })\r\n    //   localStorage.clear()\r\n    //   router.push({\r\n    //     path: \"/login\",\r\n    //     querry: {\r\n    //       redirect: router.currentRoute.fullPath\r\n    //     } //从哪个页面跳转\r\n    //   })\r\n    // }\r\n    return response;\r\n  },\r\n  error => {\r\n    if(error.message.includes('timeout')){\r\n      Message({\r\n        message: '连接超时,请检查您的网络状况后刷新页面',\r\n        type: 'error'\r\n      })\r\n    }\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\n\r\n/**\r\n * 封装get方法\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\n\r\nexport function get(url, params = {}) {\r\n  return new Promise((resolve, reject) => {\r\n    axios.get(url, {\r\n      params: params\r\n    }).then(response => {\r\n      resolve(response.data);\r\n    }).catch(err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n\r\n/**\r\n * 封装post请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\n\r\nexport function post(url, data = {}) {\r\n  let token = localStorage.getItem('token')\r\n  return new Promise((resolve, reject) => {\r\n    axios.post(url, {...data, token}).then(response => {\r\n      resolve(response.data);\r\n    }, err => {\r\n      reject(err)\r\n    })\r\n  })\r\n}\r\n\r\n/**\r\n * 封装patch请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\n\r\n// export function patch(url, data = {}) {\r\n//   return new Promise((resolve, reject) => {\r\n//     axios.patch(url, data)\r\n//       .then(response => {\r\n//         resolve(response.data);\r\n//       }, err => {\r\n//         reject(err)\r\n//       })\r\n//   })\r\n// }\r\n\r\n/**\r\n * 封装put请求\r\n * @param url\r\n * @param data\r\n * @returns {Promise}\r\n */\r\n\r\n// export function put(url, data = {}) {\r\n//   return new Promise((resolve, reject) => {\r\n//     axios.put(url, data)\r\n//       .then(response => {\r\n//         resolve(response.data);\r\n//       }, err => {\r\n//         reject(err)\r\n//       })\r\n//   })\r\n// }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/http.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport Vue from 'vue'\r\nimport App from './App'\r\nimport router from './router'\r\nimport store from './vuex/store.js'\r\nimport {post,get} from '@/utils/http'   // axois封装\r\nimport ElementUI from 'element-ui'\nimport BaiduMap from 'vue-baidu-map'\r\nimport 'element-ui/lib/theme-chalk/index.css'\r\n// import '@/element-theme.scss'  // elementui主题色修改\r\nimport 'asset/css/myCss.css'  // 自定义css库\r\nimport 'asset/css/reset.css'  // 消除浏览器样式\r\n\r\nVue.config.productionTip = false\r\n\r\nVue.use(ElementUI)\nVue.use(BaiduMap, {\n  // ak 是在百度地图开发者平台申请的密钥 详见 http://lbsyun.baidu.com/apiconsole/key */\n  ak: 'kj5X1TWZYyxA6d8LsTDT0MwiqNqsmlqw'\n})\r\nVue.prototype.$post=post;  // use way: this.$post(url,data).then(res => {})\r\nVue.prototype.$get=get;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  store,\r\n  components: { App },\r\n  template: '<App/>'\r\n})\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}