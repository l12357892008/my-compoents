{"version":3,"sources":["webpack:///src/components/VerifiedFont/index.vue","webpack:///./src/components/VerifiedFont/index.vue?2070","webpack:///./src/components/VerifiedFont/index.vue","webpack:///src/view/VerifiedFont/index.vue","webpack:///./src/view/VerifiedFont/index.vue?1b06","webpack:///./src/view/VerifiedFont/index.vue"],"names":["VerifiedFont","data","props","width","type","String","Number","default","height","text","dot","line","computed","w","this","h","mounted","init","watch","newVal","oldVal","ctx","clearRect","drawText","drawDot","drawLine","methods","initCanvas","canvas","$refs","cav","getContext","_this","textArray","split","forEach","item","i","fs","random","deg","font","fillStyle","randomCol","textBaseline","save","translate","length","rotate","Math","PI","fillText","restore","beginPath","_x","_y","_r","arc","fill","closePath","strokeStyle","lineWidth","_x1","_y1","_x2","_y2","moveTo","lineTo","stroke","min","max","floor","components","components_VerifiedFont","render","_h","$createElement","_c","_self","ref","attrs","id","staticClass","_e","staticRenderFns","view_VerifiedFont","cc","ww","re","a","j","push","join","__webpack_require__","normalizeComponent","ssrContext","selectortype_template_index_0_src_view_VerifiedFont","_v","staticStyle","margin-left","on","click","VerifiedFont_Component","VerifiedFont_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/7.3f2cd6a3126c63408560.js","sourcesContent":["<!--\r\n  describe:\r\n  1.引入\r\n  2.接受属性:\r\n    必填项:\r\n      1.text: String, 验证字符\r\n    可选项:\r\n      1.width: Number | String,默认150\r\n      2.height: Number | String,默认50\r\n      3.dot: Number,背景点数量，默认20\r\n      4.line: Nmuber,背景线数量,默认4\r\n  3.描述:\r\n    将图片以旋转木马的方式呈现并可拖拽旋转(也可以放入文本),最多36张，多了透视距离跟不了\r\n-->\r\n<template>\r\n  <div id='VerifiedFont' ref='verify'>\r\n    <canvas v-if=\"text\" class=\"canvas\" ref='cav'></canvas>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    data() {\r\n      return {\r\n      }\r\n    },\r\n    props:{\r\n      width: {  // 宽\r\n        type: [String, Number],\r\n        default: 150\r\n      },\r\n      height: {  // 高\r\n        type: [String, Number],\r\n        default: 50\r\n      },\r\n      text: String,  // 验证文字\r\n      dot:{  // 背景点数量\r\n        type: Number,\r\n        default: 20\r\n      },\r\n      line:{ // 背景线数量\r\n        type: Number,\r\n        default: 4\r\n      }\r\n    },\r\n    computed:{\r\n      w(){\r\n        return ~~this.width\r\n      },\r\n      h(){\r\n        return ~~this.height\r\n      }\r\n    },\r\n    mounted(){\r\n      this.init()\r\n    },\r\n    watch:{\r\n      text(newVal, oldVal){\r\n        if(this.ctx){\r\n          this.ctx.clearRect(0, 0, this.w, this.h)\r\n        }\r\n        this.drawText();  // 画文字\r\n        this.drawDot();  // 画点\r\n        this.drawLine();  // 画线\r\n      }\r\n    },\r\n    methods:{\r\n      init(){\r\n        this.initCanvas();  // 初始化画布\r\n        this.drawText();  // 画文字\r\n        this.drawDot();  // 画点\r\n        this.drawLine();  // 画线\r\n      },\r\n      initCanvas(){  // 初始化画布\r\n        this.canvas = this.$refs.cav\r\n        this.ctx = this.canvas.getContext('2d')\r\n        this.canvas.height = this.h\r\n        this.canvas.width = this.w\r\n      },\r\n      drawText(){  // 画文字\r\n        let textArray = this.text.split('')\r\n        textArray.forEach((item,i) => {\r\n          let fs = this.random(30,40);  // 字体大小\r\n          let deg = this.random(-30,30);  // 旋转角度\r\n          this.ctx.font = fs + \"px KaiTi\"  // 设置画笔字体样式\r\n          this.ctx.fillStyle = this.randomCol()  // 设置填充颜色\r\n          this.ctx.textBaseline = 'top'  // 设置画布文本基线(top即以文字顶端来确定位置)\r\n          /* .save()保存当前画布状态，要和.restore()搭配使用\r\n             .restore()将画布状态恢复到保存的状态*/\r\n          this.ctx.save()\r\n          this.ctx.translate(this.w / textArray.length * i +15,this.random(0,15))\r\n          this.ctx.rotate(deg*Math.PI/180)  // rotate旋转的是弧度要用角度表示需要用deg*Math.PI/180\r\n          this.ctx.fillText(textArray[i], 0, 0)\r\n          this.ctx.restore()\r\n        })\r\n      },\r\n      drawDot(){  // 画点\r\n        for(let i = 0; i<this.dot; i++){\r\n          this.ctx.beginPath()   // 开始一个新/或覆盖原先的路径\r\n          this.ctx.fillStyle = this.randomCol()  // 设置填充颜色\r\n          /* .arc() 创建弧/曲线，5个参数，\r\n              圆中心x轴位置，圆中心y轴位置,半径,起始弧度，结束弧度,是否为顺时针方向(可选)\r\n              Math.PI就是派,3.14,180度的弧度*/\r\n          let _x = this.random(0,this.w)  // 圆心x坐标\r\n          let _y = this.random(0,this.h)  // 圆心y坐标\r\n          let _r = this.random(1,2)   // 圆半径\r\n          this.ctx.arc(_x, _y, _r, 0, 2*Math.PI);\r\n          // fill()是填充当前路径围成的闭合区间(没闭合也会自动将首位两端相连)\r\n          // stroke()是绘制当前路径(比如此例中圆的线条),同样可以用strokeStyle设置颜色\r\n          this.ctx.fill()\r\n          this.ctx.closePath()\r\n        }\r\n      },\r\n      drawLine(){  // 画线\r\n        for(let i = 0; i < this.line; i++){\r\n          this.ctx.beginPath()\r\n          this.ctx.strokeStyle = this.randomCol()  // 设置绘制颜色\r\n          this.ctx.lineWidth = 2  //  设置线条粗细\r\n          let _x1 = this.random(0,this.w)  // 线条起始点x坐标\r\n          let _y1 = this.random(0,this.h)  // 线条起始点y坐标\r\n          let _x2 = this.random(0,this.w)  // 线条结束点x坐标\r\n          let _y2 = this.random(0,this.h)  // 线条结束点y坐标\r\n          this.ctx.moveTo(_x1, _y1)\r\n          this.ctx.lineTo(_x2, _y2)\r\n          this.ctx.stroke()\r\n        }\r\n      },\r\n      random(min, max){  // 返回一个在区间[min,max]之间的随机整数\r\n        return Math.floor(Math.random() * (max - min + 1) + min);\r\n      },\r\n      randomCol(){  // 返回一个随机颜色\r\n        let r = this.random(0, 255)\r\n        let g = this.random(0, 255)\r\n        let b = this.random(0, 255)\r\n        return `rgb(${r},${g},${b})`;\r\n      }\r\n    },\r\n    components:{\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .canvas{\r\n    background: #f1f1f1;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/VerifiedFont/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"verify\",attrs:{\"id\":\"VerifiedFont\"}},[(_vm.text)?_c('canvas',{ref:\"cav\",staticClass:\"canvas\"}):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-0c7f1e36\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/VerifiedFont/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0c7f1e36\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0c7f1e36\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0c7f1e36\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/VerifiedFont/index.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id='VerifiedFontPage' class=\"flex_center\">\r\n    <div class=\"flex_row_middle\">\r\n      <VerifiedFont :text='text'/>\r\n      <i class='my-icon-refresh-right' @click=\"re\" style=\"margin-left: 20px;\"/>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import VerifiedFont from '@/components/VerifiedFont'\r\n  export default {\r\n    data() {\r\n      return {\r\n        cc: '',\r\n        ww: '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',\r\n        text: 'cbfd'\r\n      }\r\n    },\r\n    methods: {\r\n      re(){\r\n        let a = []\r\n        for(let i=0;i < 4;i++){\r\n          let j = this.random(0,this.ww.length)\r\n          a.push(this.ww[j])\r\n        }\r\n        a = a.join('')\r\n        this.text = a\r\n      },\r\n      random(min, max){  // 返回一个在区间[min,max)之间的随机整数\r\n        return Math.floor(Math.random() * (max - min) + min);\r\n      },\r\n    },\r\n    components:{\r\n      VerifiedFont\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/view/VerifiedFont/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"flex_center\",attrs:{\"id\":\"VerifiedFontPage\"}},[_c('div',{staticClass:\"flex_row_middle\"},[_c('VerifiedFont',{attrs:{\"text\":_vm.text}}),_vm._v(\" \"),_c('i',{staticClass:\"my-icon-refresh-right\",staticStyle:{\"margin-left\":\"20px\"},on:{\"click\":_vm.re}})],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-9a84d82c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/VerifiedFont/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true,\\\"minimize\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-9a84d82c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-9a84d82c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-9a84d82c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/VerifiedFont/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}